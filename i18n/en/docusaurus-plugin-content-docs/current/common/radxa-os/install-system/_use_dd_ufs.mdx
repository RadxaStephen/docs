This document explains how to install the system to UFS storage using the `dd` command.

:::warning
Installing the system will format the UFS module or onboard UFS storage. Please back up any important data in advance!
:::

## Prerequisites

To install the system to UFS using the `dd` command, you need to meet the following conditions:

- The system can boot normally from another storage device: It is recommended to use a MicroSD card to boot the system

- The UFS module is installed on the board, or the board has onboard UFS storage

## Hardware Connection

You can proceed with the following steps based on your board's configuration.

:::tip
This tutorial is applicable to multiple board models. Choose the appropriate steps for hardware connection based on your specific board configuration.

For boards with onboard UFS storage, there is no UFS module interface, so no installation is required.
:::

<Tabs queryString="system boot">
<TabItem value="UFS Module" default={props.tag === "ufs_module"} attributes={{className: props.tag === "ufs_board" && "tab_none"}} >

### UFS Module Installation Steps:

1. Observe the notch direction on the UFS module and the notch marking on the board's UFS module interface to determine the correct installation orientation.
2. Place the UFS module above the board's UFS module interface, ensuring the module's interface is roughly aligned with the board's interface.
3. Gently press down on one end of the UFS module until you hear a "click" sound, then press the other end in the same way to ensure the UFS module is properly installed.

<div style={{ textAlign: "center" }}>
  <img
    src="/en/img/common/radxa-os/install-system/ufs-moudle-board.webp"
    style={{ width: "100%", maxWidth: "1200px" }}
  />
</div>

</TabItem>

<TabItem value="Onboard UFS" default={props.tag === "ufs_board"} attributes={{className: props.tag === "ufs_module" && "tab_none"}} >

If your board has onboard UFS storage, no installation is required.

</TabItem>  
</Tabs>

## System Installation

### Download System Image

The board needs to access the resources download page to directly download the system image file locally.

:::tip Image Note
The downloaded system image is a compressed file and needs to be extracted before use!
:::

#### Recommended Download Methods

- Direct Download

Access the resources download page directly from the board and download the system image file locally.

- Download using wget

Use the `wget` command on the board to download the system image file.

<NewCodeBlock tip="radxa@device$" type="device">

```
sudo apt update &&
sudo apt install wget -y
wget <url>
```

</NewCodeBlock>

Where `<url>` is the download address of the system image file. You can copy the download address from the resources download page and replace it.

- PC Download

Access the resources download page from a PC, download the system image file, and then transfer it to the board using a USB drive, FTP, SCP, or other methods.

#### Extract System Image

Our system images are typically in `*.img.xz` format and need to be extracted before use.

<NewCodeBlock tip="radxa@device$" type="device">

```
sudo apt update
sudo apt install xz-utils -y
unxz <image_path>
```

</NewCodeBlock>

Where `<image_path>` is the path to the system image file. Replace it with the actual path to your system image file.

### Install System Image

Use the `dd` command to install the system image to UFS storage.

<NewCodeBlock tip="radxa@device$" type="device">

```
sudo dd if=<image_path> of=<device_target> bs=4M status=progress
```

</NewCodeBlock>

Parameter Description:

- `<image_path>`: The path to the system image file. Replace it with the actual path to your system image file.

- `<device_target>`: The device path of the UFS module. Replace it with the actual device path of your UFS module.

- `bs=4M`: Block size for writing.

- `status=progress`: Show write progress.

:::tip Determine Device Path

You can use the `lsblk` command to view device paths and determine the correct one based on disk capacity.

Note: If disk capacities are similar, you can safely plug and unplug the UFS module (with the board powered off) to observe which device path appears and disappears, thus identifying the correct device path.

<NewCodeBlock tip="radxa@device$" type="device">

```
lsblk
```

</NewCodeBlock>

:::
